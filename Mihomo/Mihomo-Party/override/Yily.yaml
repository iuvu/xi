proxy-groups:
  - name: Yily
    include-all: true
    type: select
    proxies:
      - DIRECT

  - name: Bilibili
    include-all: true
    type: select
    proxies:
      - DIRECT
      - Yily

  - name: Steam
    include-all: true
    type: select
    proxies:
      - Yily
      - DIRECT

  - name: Emby
    include-all: true
    type: select
    proxies:
      - Yily
      - DIRECT

  - name: Discord
    include-all: true
    type: select
    proxies:
      - Yily

  - name: Telegram
    include-all: true
    type: select
    proxies:
      - Yily

rule-providers:
  reject:
    type: http
    behavior: domain
    url: "https://github.com/217heidai/adblockfilters/raw/refs/heads/main/rules/adblockmihomolite.yaml"
    interval: 86400
    path: ./ruleset/adblockmihomolite.yaml

  Bilibili:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili_No_Resolve.yaml"
    interval: 86400
    path: ./ruleset/BiliBili_No_Resolve.yaml

  Microsoft:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft_No_Resolve.yaml"
    interval: 86400
    path: ./ruleset/Microsoft_No_Resolve.yaml

  Copilot:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Copilot/Copilot_No_Resolve.yaml"
    interval: 86400
    path: ./ruleset/Copilot_No_Resolve.yaml

  SteamCN:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN_No_Resolve.yaml"
    interval: 86400
    path: ./ruleset//SteamCN_No_Resolve.yaml

  Steam:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam_No_Resolve.yaml"
    interval: 86400
    path: ./ruleset/Steam_No_Resolve.yaml

  Emby:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/YilyOu/YiIy/x/Rules/Clash/Emby.yaml"
    interval: 86400
    path: ./ruleset/Emby.yaml

  Discord:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Discord/Discord_No_Resolve.yaml"
    interval: 86400
    path: ./ruleset/Discord_No_Resolve.yaml

  Telegram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram_No_Resolve.yaml"
    interval: 86400
    path: ./ruleset/Telegram_No_Resolve.yaml

  Proxy:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Proxy/Proxy_Classical_No_Resolve.yaml"
    interval: 86400
    path: ./ruleset/Proxy_Classical_No_Resolve.yaml

  direct:
    type: http
    behavior: domain
    url: "https://github.com/Loyalsoldier/clash-rules/raw/refs/heads/release/direct.txt"
    interval: 86400
    path: ./ruleset/direct.yaml
    
  ChinaIPs_IP:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/ChinaIPs/ChinaIPs_IP.yaml"
    interval: 86400
    path: ./ruleset/ChinaIPs_IP.yaml

  lancidr:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/lancidr.txt"
    interval: 86400
    path: ./ruleset/lancidr.yaml

rules:
  - RULE-SET,reject,REJECT
  - RULE-SET,Bilibili,Bilibili
  - RULE-SET,Microsoft,DIRECT
  - RULE-SET,Copilot,Yily
  - RULE-SET,SteamCN,DIRECT
  - RULE-SET,Steam,Steam
  - RULE-SET,Emby,Emby,no-resolve
  - RULE-SET,Discord,Discord
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Proxy,Yily
  - RULE-SET,direct,DIRECT
  - RULE-SET,ChinaIPs_IP,DIRECT,no-resolve
  - RULE-SET,lancidr,DIRECT,no-resolve
  - MATCH,Yily
